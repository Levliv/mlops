schema: '2.0'
stages:
  prepare_data:
    cmd: python src/dataset_processing.py
    deps:
    - path: data/raw/wineQT.csv
      hash: md5
      md5: e2e57e4c41e6ee0213fb12e5a70f4bfb
      size: 78057
    - path: src/dataset_processing.py
      hash: md5
      md5: 198b8418e8369df5dc0beb035ce8ab40
      size: 1783
    params:
      params.yaml:
        prepare:
          input_file: data/raw/wineQT.csv
          output_file: data/processed/wine_cleaned.csv
    outs:
    - path: data/processed/wine_cleaned.csv
      hash: md5
      md5: 780c5655b8df271669d98166685183af
      size: 59583
  train_model:
    cmd: python src/modeling/train.py
    deps:
    - path: data/processed/wine_cleaned.csv
      hash: md5
      md5: 780c5655b8df271669d98166685183af
      size: 59583
    - path: src/modeling/train.py
      hash: md5
      md5: 5a0422fd74ae79618e8e7cc89866ab8b
      size: 8415
    params:
      params.yaml:
        train:
          model_type: RandomForest
          n_estimators: 10
          max_depth: 5
          min_samples_split: 5
          min_samples_leaf: 2
          learning_rate: 0.1
          random_state: 42
          test_size: 0.2
    outs:
    - path: metrics/train_metrics.json
      hash: md5
      md5: 3087d13115243c8c87e0b67eeedd9f68
      size: 220
    - path: models/model.jbl
      hash: md5
      md5: 1001dafc7142f3e71baabe14147c0479
      size: 62697
    - path: models/scaler.jbl
      hash: md5
      md5: 54353a6ac0e3925d4a84a5ea5c865ae8
      size: 1279
  evaluate_model:
    cmd: python src/modeling/predict.py
    deps:
    - path: data/processed/wine_cleaned.csv
      hash: md5
      md5: 780c5655b8df271669d98166685183af
      size: 59583
    - path: models/model.jbl
      hash: md5
      md5: 1001dafc7142f3e71baabe14147c0479
      size: 62697
    - path: models/scaler.jbl
      hash: md5
      md5: 54353a6ac0e3925d4a84a5ea5c865ae8
      size: 1279
    - path: src/modeling/predict.py
      hash: md5
      md5: cae6e360c98318198c34f681bd810faa
      size: 4230
    outs:
    - path: metrics/eval_metrics.json
      hash: md5
      md5: ec328a8a0a70d8b1e807a2fa96f5e66b
      size: 158
    - path: metrics/predictions.csv
      hash: md5
      md5: 608e9544b4c2c08484fe65ebb3030896
      size: 122327

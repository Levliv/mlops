schema: '2.0'
stages:
  prepare_data:
    cmd: python src/dataset_processing.py
    deps:
    - path: data/raw/wineQT.csv
      hash: md5
      md5: e2e57e4c41e6ee0213fb12e5a70f4bfb
      size: 78057
    - path: src/dataset_processing.py
      hash: md5
      md5: 552fe5be32ef8a9395fd96faa304b12d
      size: 2341
    params:
      params.yaml:
        prepare:
          input_file: data/raw/wineQT.csv
          output_file: data/processed/wine_cleaned.csv
    outs:
    - path: data/processed/wine_cleaned.csv
      hash: md5
      md5: 780c5655b8df271669d98166685183af
      size: 59583
  train_model:
    cmd: python src/modeling/train.py
    deps:
    - path: data/processed/wine_cleaned.csv
      hash: md5
      md5: 780c5655b8df271669d98166685183af
      size: 59583
    - path: src/modeling/train.py
      hash: md5
      md5: b867c488a9ee86000e59f40f4b9c68e9
      size: 10460
    params:
      params.yaml:
        train:
          model:
            model_type: RandomForest
            n_estimators: 40
            max_depth: 10
            min_samples_split: 5
            min_samples_leaf: 3
          test_size: 0.2
          random_state: 42
    outs:
    - path: metrics/train_metrics.json
      hash: md5
      md5: 02d429c39dd260b519fc1739cc849ab3
      size: 221
    - path: models/model.jbl
      hash: md5
      md5: e3d9cd19e1a560623ddd20503dfeff97
      size: 879593
    - path: models/scaler.jbl
      hash: md5
      md5: 10b5abf58ee36b3d1a28725f91490a3e
      size: 1279
  evaluate_model:
    cmd: python src/modeling/predict.py
    deps:
    - path: data/processed/wine_cleaned.csv
      hash: md5
      md5: 780c5655b8df271669d98166685183af
      size: 59583
    - path: models/model.jbl
      hash: md5
      md5: e3d9cd19e1a560623ddd20503dfeff97
      size: 879593
    - path: models/scaler.jbl
      hash: md5
      md5: 10b5abf58ee36b3d1a28725f91490a3e
      size: 1279
    - path: src/modeling/predict.py
      hash: md5
      md5: db722d3a1418edf35e73ffdc56a398a7
      size: 4541
    outs:
    - path: metrics/eval_metrics.json
      hash: md5
      md5: d47bc21c5bf68c01f72f8913dbab911a
      size: 158
    - path: metrics/predictions.csv
      hash: md5
      md5: f5e5711996901f54079a3af7f21bf227
      size: 109697
